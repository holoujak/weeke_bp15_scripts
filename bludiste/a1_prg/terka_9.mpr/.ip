(Program systému woodWOP [8.414] 02.11.2025 22:41:32)
(Název programu: terka_9.mpr)
(Druh obrábìní: Rychlá výmìna)
(Druh provozu stolu: Jednorázový provoz)
(Èíslo stolu: 1, Místa obrábìní:)
(Zrcadlový režim: bez zrcadlení)

%.ip
N0100 $IF[@PL1&1==1]
N0101  #LOCK;

N0102  $IF [V.I.SPD_UNT1!=0]
N0103   $IF [V.I.SPD_UNT1!=101]
N0104    $IF [V.I.SPD_UNT1!=V.I.ZUP_AKT1]
N0105     $IF [V.I.ZUP_UNT1==1]
N0106      V.I.ZUP_BGA1=V.I.BGA_SPD101
N0107      #START [CNC, CHANNEL=1, ID=1, FileName=".oWZW_ZUP", \
           InitializeOnActualPosition=OFF, \
           @PL1=V.I.ZUP_BGA1]
N0108      V.I.ZUP_AKT1=V.I.SPD_UNT1;
N0109     $ELSE
N0110     $ENDIF
N0111    $ENDIF
N0112   $ENDIF
N0113  $ENDIF

N0114  $IF [V.I.EST_SPD101!=0]
N0115   $IF [V.I.EST_SPD101!=2] ( %% )
N0116    #START [PLC, CHANNEL=V.I.EST_SPD101, ID=2, CMD=2, RCV=V.I.COUNT, SPD=101, UNT=1, \
N0117            LAS=10, LAZ=4, TCN=V.I.TCN_SPD101, ENS=V.I.ENS_SPD101]
N0118    V.I.COUNT+=1;
N0119    V.I.SIG_BEARB_PERMIT=0
N0120    V.I.SIG_WZW_PERMIT=0
N0121    V.I.OUTSEF_UNIT_CNT=3
N0122    #START [CNC, CHANNEL=1, ID=3, FileName=".oWZW_OUT_SPD", \
         InitializeOnActualPosition=OFF, \
         @PL1=51010000 @PL2=53010000 @PL3=V.I.BGA_SPD101 @PL4=0 @PL5=0 @PL6=0 @PL7=0\ 
          @PL8=0 @PL9=0 @PL10=0 @PL11=0 @PL12=0 @PL13=V.I.SIG_BEARB_PERMIT\ 
          @PL14=V.I.SIG_WZW_PERMIT @PL15=V.I.OUTSEF_UNIT_CNT @PL16=101 @PL17=0\ 
          @PL18=0 @PL19=0 @PL20=0 @PL21=0.0 @PL22=0]
N0123    V.I.EST_SPD101=0;
N0124    V.I.BGA_SPD101=0;
N0125    V.I.TCN_SPD101=0;
N0126    V.I.ENS_SPD101=0;
N0127    V.I.ZUP_MASS_SPD101=0;
N0128    $IF [V.I.ZUP_AKT1==101]
N0129     V.I.ZUP_AKT1=0;
N0130    $ENDIF
N0131   $ENDIF
N0132  $ENDIF

N0133  #START [PLC, CHANNEL=2, ID=4,CMD=1, TNR=101, TSI=0, RCV=V.I.COUNT, \
               SPD=101, TCN=2, TPL=1, TID=1, UNT=1, FTG=0, LAZ=4, LAS=10,\
               DOR=0, NOR=0, MTR=0, ENS=3]
  ( %% )
N0135  V.I.COUNT+=1;
N0136  V.I.SPD_UNT1=101;
N0137  V.I.ZUP_UNT1=0;
N0138  V.I.EST_SPD101=2; ( %% )
N0139  $IF [V.I.ZUP_AKT1==101]
N0140   V.I.ZUP_AKT1=0;
N0141  $ENDIF
N0142  V.I.BGA_SPD101=0;
N0143  V.I.TCN_SPD101=2;
N0144  V.I.ENS_SPD101=3;
N0145  V.I.ZUP_MASS_SPD101=150;
N0146  #START [CNC, CHANNEL=1, ID=5, FileName="WW/terka_9.mpr/.0", \
       InitializeOnActualPosition=OFF]

N0147  $IF [V.I.EST_SPD101!=0]
N0148   #START [PLC, CHANNEL=V.I.EST_SPD101, ID=6, CMD=2, RCV=V.I.COUNT, SPD=101, UNT=1, \
N0149           LAS=10, LAZ=4, TCN=V.I.TCN_SPD101, ENS=V.I.ENS_SPD101]
N0150   V.I.COUNT+=1;
N0151   V.I.SIG_BEARB_PERMIT=0
N0152   V.I.SIG_WZW_PERMIT=0
N0153   V.I.OUTSEF_UNIT_CNT=3
N0154   #START [CNC, CHANNEL=1, ID=7, FileName=".oWZW_OUT_SPD", \
        InitializeOnActualPosition=OFF, \
        @PL1=0 @PL2=0 @PL3=0 @PL4=0 @PL5=0 @PL6=0 @PL7=0 @PL8=0 @PL9=0 @PL10=0 @PL11=0\ 
         @PL12=0 @PL13=V.I.SIG_BEARB_PERMIT @PL14=V.I.SIG_WZW_PERMIT\ 
         @PL15=V.I.OUTSEF_UNIT_CNT @PL16=101 @PL17=0\ 
         @PL18=0 @PL19=0 @PL20=0 @PL21=0.0 @PL22=0]
N0155   $IF [V.I.ZUP_AKT1==101]
N0156    V.I.ZUP_AKT1=0;
N0157   $ENDIF
N0158  $ENDIF
N0159  $IF [V.I.ZUP_AKT1!=0]
N0160   V.I.SPD_UNT1=V.I.ZUP_AKT1;
N0161   V.I.ZUP_UNT1=1;
N0162  $ELSE
N0163   V.I.SPD_UNT1=0;
N0164   V.I.ZUP_UNT1=0;
N0165  $ENDIF
N0166  V.I.EST_SPD101=0;
N0167  V.I.BGA_SPD101=0;
N0168  V.I.TCN_SPD101=0;
N0169  V.I.ENS_SPD101=0;
N0170  V.I.ZUP_MASS_SPD101=0;


N0171  #START [CNC, CHANNEL=3, ID=8, FileName="WW/terka_9.mpr/.1", \
       InitializeOnActualPosition=OFF]
N0172  #UNLOCK;
N0173 $ENDIF
N0174 M02
